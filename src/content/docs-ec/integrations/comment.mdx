---
title: '评论系统'
description: '页面底部的评论系统'
order: 3
---

import { Aside } from 'astro-pure/user'

## Waline 评论系统

<Aside>
  本主题已集成 Waline 评论系统。你可以在 `src/site.config.ts` 文件的 `integrationConfig.waline` 中进行配置。
</Aside>

本主题的评论、阅读统计、点赞等功能均由 [Waline](https://waline.js.org/) 提供。

### 移除

如果你因某些原因需要移除评论系统，或者想了解如何更换为其他评论系统，本节可能会对你有帮助。但如果你想了解如何配置它，可以跳过本节。

通过以下步骤移除它：

1. 在 `src/site.config.ts` 中将 `enable` 设置为 `false`。

   ```ts title="src/site.config.ts"
   export const integ: IntegrationUserConfig = {
     // ...
     waline: {
       enable: false // [!code highlight]
     }
   }
   ```

2. 移除依赖 `@waline/client`：

   ```shell
   bun remove @waline/client
   ```

3. 移除文件夹 `src/components/waline`。

4. 移除这些布局中的相关代码：
   - `src/layouts/CommonPage.astro`
   - `src/layouts/BlogPost.astro`

5. 在这些文件中，移除为之前编辑的布局配置的 `comment` 或 `view` 等相关配置：
   - `src/pages/about/index.astro`
   - `src/pages/links/index.astro`
   - `src/pages/projects/index.astro`
   - 其他存在的博客文章前置配置（如果有）

### 部署

你可以参考其文档进行配置，建议使用 [Vercel](https://vercel.com/) + [Supabase](https://supabase.com/) 的组合。

### 配置

然后你可以在 `integrationConfig.server` 中配置 Waline 评论系统。

```ts title="src/site.config.ts"
export const integ: IntegrationUserConfig = {
  // ...
  waline: {
    enable: true,
    // 服务器服务链接
    server: 'https://astro-theme-pure-waline.arthals.ink/', // [!code highlight]
    // 参考 https://waline.js.org/en/guide/features/emoji.html
    emoji: ['bmoji', 'weibo'],
    // 参考 https://waline.js.org/en/reference/client/props.html
    additionalConfigs: {
      pageview: true,
      comment: true
      // ...
    }
  }
}
```

### 使用

你可以在 `.astro` 或 `.mdx` 文件中手动调用它。

```jsx
import { Comment } from '@/components/waline'

// prettier-ignore
<Comment />
```

渲染效果：

import { Comment } from '@/components/waline'

<Comment />
